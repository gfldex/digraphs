#! /usr/bin/env perl

use strict;
use warnings;
use utf8;

use Term::ReadKey;


my %digraphs = (
    '  '    =>  'Â ',
    '!I'    =>  'Â¡',
    'Ct'    =>  'Â¢',
    'Pd'    =>  'Â£',
    'Cu'    =>  'Â¤',
    'Ye'    =>  'Â¥',
    'BB'    =>  'Â¦',
    'SE'    =>  'Â§',
    "':"    =>  'Â¨',
    '-a'    =>  'Âª',
    'st'    =>  'â˜…',
    'mu'    =>  'Ã—',

    'no'    =>  'Â¬',
    'an'    =>  'âˆ§',
    'or'    =>  'âˆ¨',
    'xo'    =>  'âŠ»',
    'fc'    =>  'âˆ˜',
    '!='    =>  'â‰ ',

    'al'    =>  'â†',
    'ar'    =>  'â†’',
    'au'    =>  'â†‘',
    'ad'    =>  'â†“',
    'Al'    =>  'â‡',
    'Ar'    =>  'â‡’',
    'Au'    =>  'â‡‘',
    'Ad'    =>  'â‡“',

    '--'    =>  'â€”',
    '-.'    =>  'â€',
    '__'    =>  'ï¼¿',
    '*>'    =>  'â€£',
    '*.'    =>  'â€¢',

    'OA'    =>  'â’¶',
    'OB'    =>  'â’·',
    'OC'    =>  'â’¸',
    'OD'    =>  'â’¹',
    'OE'    =>  'â’º',
    'OF'    =>  'â’»',
    'OG'    =>  'â’¼',
    'OH'    =>  'â’½',
    'OI'    =>  'â’¾',
    'OJ'    =>  'â’¿',
    'OK'    =>  'â“€',
    'OL'    =>  'â“',
    'OM'    =>  'â“‚',
    'ON'    =>  'â“ƒ',
    'OO'    =>  'â“„',
    'OP'    =>  'â“…',
    'OQ'    =>  'â“†',
    'OR'    =>  'â“‡',
    'OS'    =>  'â“ˆ',
    'OT'    =>  'â“‰',
    'OU'    =>  'â“Š',
    'OV'    =>  'â“‹',
    'OW'    =>  'â“Œ',
    'OX'    =>  'â“',
    'OY'    =>  'â“Ž',
    'OZ'    =>  'â“',
    'Oa'    =>  'â“',
    'Ob'    =>  'â“‘',
    'Oc'    =>  'â“’',
    'Od'    =>  'â““',
    'Oe'    =>  'â“”',
    'Of'    =>  'â“•',
    'Og'    =>  'â“–',
    'Oh'    =>  'â“—',
    'Oi'    =>  'â“˜',
    'Oj'    =>  'â“™',
    'Ok'    =>  'â“š',
    'Ol'    =>  'â“›',
    'Om'    =>  'â“œ',
    'On'    =>  'â“',
    'Oo'    =>  'â“ž',
    'Op'    =>  'â“Ÿ',
    'Oq'    =>  'â“ ',
    'Or'    =>  'â“¡',
    'Os'    =>  'â“¢',
    'Ot'    =>  'â“£',
    'Ou'    =>  'â“¤',
    'Ov'    =>  'â“¥',
    'Ow'    =>  'â“¦',
    'Ox'    =>  'â“§',
    'Oy'    =>  'â“¨',
    'Oz'    =>  'â“©',
    'O1'    =>  'â‘ ',
    'O2'    =>  'â‘¡',
    'O3'    =>  'â‘¢',
    'O4'    =>  'â‘£',
    'O5'    =>  'â‘¤',
    'O6'    =>  'â‘¥',
    'O7'    =>  'â‘¦',
    'O8'    =>  'â‘§',
    'O9'    =>  'â‘¨',
    'O0'    =>  'â“ª',

    'co'    =>  'Â©',
    're'    =>  'Â®',

    "'m"    =>  'Â¯',
    'DG'    =>  'Â°',
    '+-'    =>  'Â±',
    '2S'    =>  'Â²',
    '3S'    =>  'Â³',
    "''"    =>  'Â´',
    'my'    =>  'Âµ',
    'pi'    =>  'Ï€',
    'ee'    =>  'â„¯',
    '.M'    =>  'Â·',
    "',"    =>  'Â¸',
    '1S'    =>  'Â¹',
    '-o'    =>  'Âº',

    '<<'    =>  'Â«',
    '>>'    =>  'Â»',
    '``'    =>  'â€',
    'Â´Â´'    =>  'â€œ',
    "\"'"    =>  'â€œ',
    '",'    =>  'â€ž',
    '"<'    =>  'Â«',
    '">'    =>  'Â»',
    "'<"    =>  "âŸ¨",
    "'>"    =>  "âŸ©",
    "<("    =>  "âŸ¨",
    ">)"    =>  "âŸ©",
    "'("    =>  "â€š",
    "')"    =>  "â€˜",
    "\"("   =>  "â€ž",
    "\")"   =>  "â€œ",

    ":="    =>  "â‰”",

    '14'    =>  'Â¼',
    '12'    =>  'Â½',
    '34'    =>  'Â¾',
    '?I'    =>  'Â¿',
    'A!'    =>  'Ã€',
    "A'"    =>  'Ã',
    'A>'    =>  'Ã‚',
    'A?'    =>  'Ãƒ',
    'A:'    =>  'Ã„',
    'AA'    =>  'Ã…',
    'AE'    =>  'Ã†',
    'C,'    =>  'Ã‡',
    'E!'    =>  'Ãˆ',
    "E'"    =>  'Ã‰',
    'E>'    =>  'ÃŠ',
    'E:'    =>  'Ã‹',
    'I!'    =>  'ÃŒ',
    "I'"    =>  'Ã',
    'I>'    =>  'ÃŽ',
    'I:'    =>  'Ã',
    'D-'    =>  'Ã',
    'N?'    =>  'Ã‘',
    'O!'    =>  'Ã’',
    "O'"    =>  'Ã“',
    'O>'    =>  'Ã”',
    'O?'    =>  'Ã•',
    'O:'    =>  'Ã–',
    '*X'    =>  'Ã—',
    'O/'    =>  'Ã˜',
    'U!'    =>  'Ã™',
    "U'"    =>  'Ãš',
    'U>'    =>  'Ã›',
    'U:'    =>  'Ãœ',
    "Y'"    =>  'Ã',
    'TH'    =>  'Ãž',
    '"s'    =>  'ÃŸ',
    'a!'    =>  'Ã ',
    "a'"    =>  'Ã¡',
    'a>'    =>  'Ã¢',
    'a?'    =>  'Ã£',
    'a:'    =>  'Ã¤',
    'aa'    =>  'Ã¥',
    'ae'    =>  'Ã¦',
    'c,'    =>  'Ã§',
    'e!'    =>  'Ã¨',
    "e'"    =>  'Ã©',
    'e>'    =>  'Ãª',
    'e:'    =>  'Ã«',
    'i!'    =>  'Ã¬',
    "i'"    =>  'Ã­',
    'i>'    =>  'Ã®',
    'i:'    =>  'Ã¯',
    'd-'    =>  'Ã°',
    'n?'    =>  'Ã±',
    'o!'    =>  'Ã²',
    "o'"    =>  'Ã³',
    'o>'    =>  'Ã´',
    'o?'    =>  'Ãµ',
    'o:'    =>  'Ã¶',
    '-:'    =>  'Ã·',
    'o/'    =>  'Ã¸',
    'u!'    =>  'Ã¹',
    "u'"    =>  'Ãº',
    'u>'    =>  'Ã»',
    'u:'    =>  'Ã¼',
    "y'"    =>  'Ã½',
    'th'    =>  'Ã¾',
    'y:'    =>  'Ã¿',
    '"a'    =>  'Ã¤',
    '"o'    =>  'Ã¶',
    '"Ã¼'    =>  'Ã¼',
    '..'    =>  'â€¦',
    'p*'    =>  'Ï€',
    '=~'    =>  'â‰…',
    '(<'    =>  'âŸ¨',
    ')>'    =>  'âŸ©',
    '(['    =>  'ï½¢',
    ')]'    =>  'ï½£',
    '(L'    =>  'âŒŠ',
    ')L'    =>  'âŒ‹',
    '(('    =>  'â¸¨',
    '))'    =>  'â¸©',
    'oo'    =>  'âˆž',
    '?!'    =>  'â€½',
    'C '    =>  'â£',

    'se'    =>  'âˆˆ',
    'sn'    =>  'âˆ‰',
    'su'    =>  'âˆª',
    'si'    =>  'âˆ©',
    'sd'    =>  'âˆ–',
    'ss'    =>  'âŠ–',
    '>='    =>  'â‰¥',
    '<='    =>  'â‰¤',

    "C0"    =>  'â€',
    "C"   =>  'â›',
    "C\n"   =>  'â¤',
    "Cp"    =>  'Â¶',
    "Cr"    =>  'âŽ',
    "Cf"    =>  'âœ',
    "Ct"    =>  'â‹',
    "CR"    =>  'âž',

    "^1"    =>  'Â¹',
    "^2"    =>  'Â²',
    "^3"    =>  'Â³',
    "^4"    =>  'â´',
    "^5"    =>  'âµ',
    "^6"    =>  'â¶',
    "^7"    =>  'â·',
    "^8"    =>  'â¸',
    "^9"    =>  'â¹',
    "^0"    =>  'â°',
    "^+"    =>  'âº',
    "^-"    =>  'â»',
    "^="    =>  'â¼',
    "^("    =>  'â½',
    "^)"    =>  'â¾',
    "^n"    =>  'â¿',
    "^i"    =>  'â±',
    "_1"    =>  'â‚',
    "_2"    =>  'â‚‚',
    "_3"    =>  'â‚ƒ',
    "_4"    =>  'â‚„',
    "_5"    =>  'â‚…',
    "_6"    =>  'â‚†',
    "_7"    =>  'â‚‡',
    "_8"    =>  'â‚ˆ',
    "_9"    =>  'â‚‰',
    "_0"    =>  'â‚€',
    "_+"    =>  'â‚Š',
    "_-"    =>  'â‚‹',
    "_="    =>  'â‚‹',
    "_("    =>  'â‚',
    "_)"    =>  'â‚Ž',
    "_a"    =>  'â‚',
    "_e"    =>  'â‚‘',
    "_h"    =>  'â‚•',
    "_i"    =>  'â‚•',
    "_j"    =>  'â‚•',
    "_k"    =>  'â‚–',
    "_l"    =>  'â‚–',
    "_m"    =>  'â‚–',
    "_n"    =>  'â‚™',
    "_o"    =>  'â‚’',
    "_p"    =>  'â‚š',
    "_r"    =>  'â‚š',
    "_s"    =>  'â‚š',
    "_t"    =>  'â‚œ',
    "_u"    =>  'áµ¤',
    "_v"    =>  'áµ¥',
    "_w"    =>  'â‚',
    "_x"    =>  'â‚“',
    "ga"    =>  'Î±',
    "gA"    =>  'Î‘',
    "gb"    =>  'Î²',
    "gB"    =>  'Î’',
    "gc"    =>  'Î³',
    "gC"    =>  'Î“',
    "gd"    =>  'Î´',
    "gD"    =>  'Î”',
    "ge"    =>  'Îµ',
    "gE"    =>  'Î•',
    "gf"    =>  'Î¶',
    "gZ"    =>  'Î–',
    "gg"    =>  'Î·',
    "gG"    =>  'Î—',
    "gh"    =>  'Î¸',
    "gH"    =>  'Î˜',
    "gi"    =>  'Î¹',
    "gI"    =>  'Î™',
    
    "gj"    =>  'Îº',
    "gJ"    =>  'Îš',
    "gk"    =>  'Î¾',
    "gK"    =>  'Îž',
    "gl"    =>  'Î»',
    "gL"    =>  'Î›',
    "gm"    =>  'Î¼',
    "gM"    =>  'Îœ',
    "gn"    =>  'Î½',
    "gN"    =>  'Î',
    "go"    =>  'Î¿',
    "go"    =>  'ÎŸ',
    "gp"    =>  'Ï€',
    "gP"    =>  'Î ',
    "gq"    =>  'Ï',
    "gQ"    =>  'Î¡',
    "gr"    =>  'Ï‚',
    "gR"    =>  'Î£',
    "gs"    =>  'Ï„',
    "gS"    =>  'Î¤',
    "gy"    =>  'Ï…',
    "gY"    =>  'Î¥',
    "gu"    =>  'Ï†',
    "gU"    =>  'Î¦',
    "gv"    =>  'Ï‡',
    "gV"    =>  'Î§',
    "gw"    =>  'Ïˆ',
    "gW"    =>  'Î¨',
    "gx"    =>  'Ï‰',
    "gX"    =>  'Î©',
    "^*"    =>  '*',
    "_*"    =>  'âŽ',
    "**"    =>  'â‘',
    "h*"    =>  'âœ±',

    'le'    =>  'âœ‰',
    'ha'    =>  'â™¥',
    'de'    =>  'â˜ ',
);

binmode(STDOUT, ':utf8');

if ( @ARGV ) {

print <<'EOH';
echo 'bindkey ^K exec .! digraphs' >> ~/.screenrc

EOH

    my $c = 0;

    for (sort keys %digraphs) {
        print $_, ' ', $digraphs{$_}, "    ";
        print "\n" unless $c++ % 10;
    }

    print "\n";
    exit 0
}

$SIG{'INT'} = sub { ReadMode 0; exit 0 };

ReadMode 3;

my $first = ReadKey;
my $second = ReadKey;

ReadMode 0;

# print "Â«$firstÂ»Â«$secondÂ»";

print $digraphs{$first . $second} // ''
